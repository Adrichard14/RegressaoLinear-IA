<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.23.2/full/pyodide.js"></script>
</head>
<body>
  <h1>Previsão de Progressão da Diabetes</h1>
  <div id="input-form">
    <label for="age">Idade do paciente:</label>
    <input type="number" id="age" step="any"><br>
    <label for="sex">Sexo do paciente (1 - feminino, 2 - masculino):</label>
    <input type="number" id="sex" step="any"><br>
    <label for="bmi">Índice de massa corporal (BMI):</label>
    <input type="number" id="bmi" step="any"><br>
    <label for="bp">Pressão arterial média:</label>
    <input type="number" id="bp" step="any"><br>
    <button onclick="predict()">Fazer previsão</button>
  </div>
  <div id="output"></div>

  <script>
    pyodide.load().then(() => {
      pyodide.globals.get_prediction = pyodide.globals.predict;

      function predict() {
        const age = parseFloat(document.getElementById('age').value);
        const sex = parseFloat(document.getElementById('sex').value);
        const bmi = parseFloat(document.getElementById('bmi').value);
        const bp = parseFloat(document.getElementById('bp').value);

        const input_data = [[age, sex, bmi, bp]];
        const prediction = pyodide.globals.get_prediction(input_data);

        document.getElementById('output').textContent = `Previsão da progressão da diabetes: ${prediction}`;
      }
    });
  </script>
</body>
</html>